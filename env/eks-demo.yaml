cluster: eks-demo

country: kr
env: alpha
role: mgt
active: true

aws_account_id: "082867736673"
aws_region: ap-northeast-2

hostname:
  internal: in.demo.nalbam.com
  public: demo.nalbam.com

argocd:
  acm_arn: arn:aws:acm:ap-northeast-2:082867736673:certificate/592c9e8f-c8a9-461f-a7cc-9f8179dcf32b
  hostname: argocd.demo.nalbam.com
  github:
    org: daangn
    team: sre
  chatUrl: https://app.slack.com/client/T03FUG4UB/C035P1YD72A

argo-workflows:
  github:
    org: daangn
    team: sre

atlantis:
  url: https://atlantis.demo.nalbam.com
  pricing:
    url: https://cloud-pricing-api.demo.nalbam.com
  github:
    user: nalbam-bot
  allowlist: github.com/opspresso/terraform-*

aws-ebs-csi-driver:
  image:
    registry: k8s.gcr.io
    repository: provider-aws/aws-ebs-csi-driver
  nodeDriverRegistrar:
    image:
      repository: sig-storage/csi-node-driver-registrar
  livenessProbe:
    image:
      repository: sig-storage/livenessprobe

aws-efs-csi-driver:
  efs-id: "fs-0d24289c6d6ad35d7"

istio:
  version: "1.14.1" # istio eks-demo
  global:
    hub: gcr.io/istio-release
  pilot:
    autoscale: false
    min: 2
    max: 2
  gateway:
    autoscale: false
    min: 2
    max: 5
  tracing:
    sampling: 10
  target_group:
    internal_http: arn:aws:elasticloadbalancing:ap-northeast-2:082867736673:targetgroup/demo-in-http-0/248830389f0ade6a
    public_http: arn:aws:elasticloadbalancing:ap-northeast-2:082867736673:targetgroup/demo-http-0/e65ee7f56b5c2967

# karpenter:
#   instanceProfile: eks-demo-worker
#   launchTemplate: eks-demo-workers-v1-2021121000100059230000000b

cluster-autoscaler:
  scan-interval: 10s
  scale-down-delay-after-delete: 2m
  scale-down-utilization-threshold: 0.6

cluster-overprovisioner:
  replicas: 0
  cpu: "1"
  memory: 1Gi

kubecost:
  hostname: kubecost.demo.nalbam.com

grafana:
  hostname: grafana.demo.nalbam.com
  auth:
    github:
      enabled: true
      org: daangn
    google:
      enabled: false
      allowed_domains: nalbam.com daangn.com
    keycloak:
      enabled: false
      hostname: keycloak.demo.nalbam.com
      realm: demo
  datasource:
    demo: http://prom.in.demo.nalbam.com
    demo-a: http://prom.in.demo-a.nalbam.com
    demo-b: http://prom.in.demo-b.nalbam.com
    loki: http://loki.in.demo.nalbam.com

loki:
  hostname: loki.in.demo.nalbam.com

prometheus:
  node-exporter:
    image:
      registry: quay.io
      repository: prometheus/node-exporter

promtail:
  image:
    registry: docker.io
    repository: grafana/promtail
